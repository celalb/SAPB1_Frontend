{"version":3,"file":"grid.js.map","sources":["ng://grid/lib/grid/filter.pipe.ts","ng://grid/lib/grid/grid.service.ts","ng://grid/lib/grid/grid.component.ts","ng://grid/lib/grid/order.pipe.ts","ng://grid/lib/grid.module.ts","ng://grid/lib/grid/column.ts"],"sourcesContent":["import { Pipe, PipeTransform } from \"@angular/core\";\n\nimport { Column } from './column';\n\n@Pipe({\n    name: 'GridFilter'\n  })\n  export class FilterPipe implements PipeTransform {\n  \n    transform(datas: any[], fldname?: string, colIdx?: number, search?: string): any[] {\n  \n      if (!datas) return [];\n      if (!fldname) return datas;\n      if (!search) return datas;\n      \n      search = search.toLocaleLowerCase() ;\n     \n      datas = datas[colIdx] ? datas.filter(\n        (p: any) =>\n          p[fldname].toLocaleLowerCase().indexOf(search) !== -1)\n        : datas\n      return datas;\n    }\n  }","import { Column } from './column';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class GridService {\n  columns: Column[];\n  data: any;\n  addopt: boolean;\n  delopt: boolean;\n  public datas: any[] = [];\n  constructor() { }\n  OnLoadData(datas?: any[], col?: Column[],addopt?: boolean, delopt?: boolean) {\n    this.columns = col;\n    this.addopt = addopt;\n    this.delopt = delopt;\n    if (!datas || datas.length === 0){\n      this.datas = new Array();\n      this.datas = this.addRows(5);\n    } else {\n      this.datas = datas;\n    }\n  }\n  addRows(lrow: Number): any[] {\n    let vrbl = \"\";\n    let vrg = \"\";\n    let xdatas: any[] = [];\n    for (let lx = 0; lx < lrow; lx++) {\n\n      for (let i = 0; i < this.columns.length; i++) {\n        vrbl += this.columns[i].code + \":\" + '';\n      }\n      vrg = ',';\n      if (lx == lrow) {\n        vrg = '';\n      }\n\n      this.data = \"{\" + vrbl + \"}\";\n      xdatas.push(this.data + vrg)\n    }\n    return xdatas;\n\n  }\n  GetColumns(): Column[] {\n    return this.columns;\n  }\n  GetData(): any[] {\n    return this.datas;\n  }\n  GetDelopt(): boolean {\n    return this.delopt;\n  }\n  GetAddopt(): boolean {\n    return this.addopt;\n  }\n  getActivedata():any{\n    return this.data;\n}\n\n}\n","import { Component, HostListener, OnInit } from '@angular/core';\n\nimport { Column } from './column';\nimport { FilterPipe } from './filter.pipe';\nimport { GridService } from './grid.service';\n\n@Component({\n  selector: 'app-grid',\n  templateUrl: './grid.component.html',\n  styleUrls: ['./grid.component.css'],\n  providers: [FilterPipe]\n})\nexport class GridComponent implements OnInit {\n  public columns: Column[];\n  search: string[];\n  gridid ;\n  data: any;\n  public datas: any[];\n  delopt : boolean;\n  addopt : boolean;\n  sortType = 'Priorty';\n  sortDirection: boolean[];\n  editmode: boolean;\n  editcol: string;\n\n  filtercode: string;\n  filter = false;\n  colix: number;\n  colIdx: number;\n  rowix: number;\n  prop: string;\n  inpid: string;\n  sortmode = false;\n  constructor(private gridservice: GridService) {\n    this.editcol = '';\n  }\n\n  ngOnInit() {\n   \n    this.columns = this.gridservice.GetColumns();\n    this.datas = this.gridservice.GetData();\n    this.delopt = this.gridservice.GetDelopt();\n    this.addopt = this.gridservice.GetAddopt();\n    this.search = new Array();\n    this.sortDirection = new Array();\n\n    this.columns.forEach(element => {\n      this.search.push();\n      this.sortDirection.push(\n        false\n      );\n    });\n\n  }\n  \n  remove(id: number) {\n    console.log(\"remove Id=\"+id);\n    this.datas.splice(id, 1);\n\n    return;\n  }\n  add() {\n    \n    this.datas.push(this.gridservice.addRows(1));\n\n  }\n  seltemplate(editable?: boolean, prop?, ix?, colIdx?) {\n   \n    if (this.editcol === prop + ix && editable) {\n      this.rowix = ix;\n      this.colIdx = colIdx;\n      this.inpid = ix + '-' + colIdx;\n      this.prop = prop;\n      let element: HTMLElement = document.getElementById(this.inpid) as HTMLElement;\n      if (element) {\n        this.sortmode=false;\n        element.focus();\n      }\n      //this.datas.filter(x => x.code === prop).map(x => x[prop]);\n      return true;\n    }\n    return false;\n\n  }\n  \n  validateOnlyNumbers(evt,type) {\n    var theEvent = evt || window.event;\n    var key = theEvent.keyCode || theEvent.which;\n    key = String.fromCharCode( key );\n    var regex = /[0-9]|\\./;\n    if( !regex.test(key) && (type === 'numeric' || type === 'currency'  )) {\n      theEvent.returnValue = false;\n      if(theEvent.preventDefault) theEvent.preventDefault();\n    }\n  }\n  /*\n  @HostListener('document:keydown', ['$event'])\n      onKeyDown(ev: KeyboardEvent) {\n    \n   \n    let elkey: HTMLElement = ev.srcElement as HTMLElement;\n    \n    if (ev.key === \"Enter\" || (ev.key === \"Tab\" && !ev.shiftKey)) {\n      this.shiftFocusRight(this.rowix, this.colIdx, this.prop);\n\n    } else\n      if (ev.key === \"Tab\" && ev.shiftKey) {\n        this.shiftFocusLeft(this.rowix, this.colIdx, this.prop);\n\n      } else\n        if (ev.key === \"ArrowUp\") {\n          this.shiftFocusUp(this.rowix, this.colIdx, this.prop);\n\n        } else\n          if (ev.key === \"ArrowDown\") {\n            this.shiftFocusDown(this.rowix, this.colIdx, this.prop);\n\n          } \n         \n    let element: HTMLElement = document.getElementById(this.editcol) as HTMLElement;\n    if (element) {\n      element.focus();\n    }\n\n  }\n\n  @HostListener('document:keyup', ['$event'])\n  onKeyUp(ev:KeyboardEvent) {\n    \n    let element: HTMLElement = ev.srcElement as HTMLElement;\n    console.log(element.id, element.nodeName,element.nodeType,element.id);\n    if (element) {\n      \n      element.focus();\n    }\n  \n   \n\n  }\n*/\n  \n  shiftFocusDown(rowIdx: number, colIdx: number, property: string) {\n    rowIdx = Math.min(rowIdx + 1, this.datas.length - 1);\n    const name = property + rowIdx;\n    this.editcol = name;\n    this.inpid = rowIdx + '-' + colIdx;\n  }\n  shiftFocusUp(rowIdx: number, colIdx: number, property: string) {\n    rowIdx = Math.max(0, rowIdx - 1);\n    const name = property + rowIdx;\n    this.editcol = name;\n    this.inpid = rowIdx + '-' + colIdx;\n  }\n\n  shiftFocusLeft(rowIdx: number, colIdx: number, property: string) {\n\n\n\n    // left one column, and correct for non editable columns to left\n    colIdx = colIdx - 1 - this.columns.slice(0, colIdx).reverse().findIndex(c => c.editable);\n    // don't need edge check bc findIndex returns -1 if none found or no items, so that corrects us back to start col automatically\n    const name = this.columns[colIdx].code + rowIdx;\n    this.editcol = name;\n    this.inpid = rowIdx + '-' + colIdx;\n  }\n\n  shiftFocusRight(rowIdx: number, colIdx: number, property: string) {\n\n    // right one column, and correct for non editable columns to right\n    let colIx = colIdx + 1 + this.columns.slice(colIdx + 1).findIndex(c => c.editable);\n    console.log(\"****\",colIx,colIdx);\n    if (colIx == colIdx) {\n      colIx = 0;\n      rowIdx = Math.min(rowIdx + 1, this.datas.length - 1);\n    }\n    \n    const name = this.columns[colIx].code + rowIdx;\n    this.editcol = name;\n    this.inpid = rowIdx + '-' + colIdx;\n   \n  }\n\n  seteditmode( id: number, colIdx: number, property: string, data) {\n\n      const name = property + id;\n      this.editcol = name;\n      this.inpid = id + '-' + colIdx;\n      \n      this.gridservice.data = data;\n  }\n \n}","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { Column } from './column';\n\n@Pipe({\n  name: 'orderBy',\n  pure: false\n})\nexport class OrderPipe implements PipeTransform {\n\n\n  transform(value:Array<any>, prop?: string, direcion?,sortmode?:boolean): any { \n    if (!sortmode){\n      return value;\n    }\n    if (!value) { \n      return [];  \n    }  \n    if ( !prop) {  \n      return value  \n    }  \n    sortmode = false;\n    if (value.length > 0) {  \n     \n      const _direction = direcion === false ? -1 : 1,      \n        _isArr = Array.isArray(value),  \n        _type = typeof value[0],  \n        _flag = _isArr && _type === 'object' ? true : _isArr && _type !== 'object' ? false : true;  \n     \n      value.sort((a, b) => {  \n        a = _flag ? a[prop] : a;  \n        b = _flag ? b[prop] : b;  \n     \n        if (typeof a === 'string') {  \n          return a > b ? -1 * _direction : 1 * _direction;  \n        } else if (typeof a === 'number') {  \n          return a - b > 0 ? -1 * _direction : 1 * _direction;  \n        }  \n      });  \n      \n    }  \n    \n    return value; \n    \n\n  }\n\n}\n","import { Column } from './grid/column';\nimport { CommonModule } from '@angular/common';\nimport { FilterPipe } from './grid/filter.pipe';\nimport { FormsModule } from '@angular/forms';\nimport { GridComponent } from './grid/grid.component';\nimport { NgModule } from '@angular/core';\nimport { OrderPipe } from './grid/order.pipe';\n@NgModule({\n  declarations: [GridComponent, FilterPipe, OrderPipe],\n  imports: [ CommonModule, FormsModule\n  ],\n  exports: [GridComponent]\n})\nexport class GridModule { }\n","export class Column {\n    code: string;\n    display: string;\n    editable: boolean;\n    type: string;\n    color: string;\n    minuscolor: string;\n    sortable: boolean;\n    searchable: boolean;\n    pipe;\n    format:string;\n}"],"names":[],"mappings":"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"}
